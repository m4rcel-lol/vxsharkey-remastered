version: '3.8'

services:
  web:
    build: .
    restart: unless-stopped
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=development
      - PORT=3000
      - CACHE_TTL=300000
      - CACHE_MAX_SIZE=100
      - RATE_LIMIT_WINDOW_MS=60000
      - RATE_LIMIT_MAX_REQUESTS=1000
      - OG_IMAGE_ENABLED=true
      - CHROMIUM_PATH=/usr/bin/chromium-browser
      - REQUEST_TIMEOUT=10000
    volumes:
      - ./src:/app/src
      - ./views:/app/views
      - ./public:/app/public
    command: npm run dev
    networks:
      - vxsharkey-network

networks:
  vxsharkey-network:
    driver: bridge
